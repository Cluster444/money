<div class="page">
  <div class="page__header">
    <h1>Update your password</h1>
  </div>

  <div class="page__content">
    <div class="page__card">
      <% if flash[:alert] %>
        <%= tag.div(flash[:alert], class: "flash-message flash-alert") %>
      <% end %>

      <% if @user&.errors&.any? %>
        <div class="form__errors">
          <h4>Please fix the following errors:</h4>
          <ul>
            <% @user.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <%= form_with url: password_path(params[:token]), method: :put, class: "form" do |form| %>
        <div class="form__group">
          <%= form.password_field :password,
                              required: true,
                              autocomplete: "new-password",
                              placeholder: "Enter new password",
                              maxlength: 72,
                              class: "form__input" %>
        </div>
        <div class="form__group">
          <%= form.password_field :password_confirmation,
                              required: true,
                              autocomplete: "new-password",
                              placeholder: "Repeat new password",
                              maxlength: 72,
                              class: "form__input" %>
        </div>
        <div class="form__actions">
          <%= form.submit "Save", class: "btn btn--primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
